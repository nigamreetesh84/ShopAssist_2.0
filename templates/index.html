<html>
    <head>
        <title>ShopAssist</title>
        <link rel="stylesheet" type="text/css" href="/static/css/styles.css">
    </head>
    <body>
        <div class="outercontainer">
            <div class="center">
                <h1 id="titlestyle">ShopAssist</h1>
            </div>

            <div class="conversationcontainer" id="chatcontainer">
                {% for entry in name_xyz %}
                <div class="{% if entry.bot %}bot{% else %}user{% endif %}">
                    {% if entry.bot %}
                        {{ entry.bot }}
                    {% else %}
                        {{ entry.user }}
                    {% endif %}
                </div>
                {% endfor %}
            </div>

            <div id="loading" style="display:none; color: gray; margin-top: 10px;">
                ‚è≥ Please wait while I fetch the response...
            </div>

            <form id="chatForm" action="/invite" method="post" class="center">
                <input type="text" name="user_input_message" id="inputtextbox">
                <button type="submit" id="submitbutton">SUBMIT</button>
            </form>

            <form action="/end_conv" method="post" class="center">
                <button type="submit">END CONVERSATION</button>
            </form>
        </div>

        <script>
            function scrollToBottom() {
                var chatContainer = document.getElementById('chatcontainer');
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            window.onload = scrollToBottom;
        </script>

        <script>
            const form = document.getElementById("chatForm");
            form.addEventListener("submit", function() {
                document.getElementById("loading").style.display = "block";
            });
        </script>
    </body>
</html>